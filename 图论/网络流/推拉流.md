# 思路介绍
推拉流求解最大流的算法，与寻找增光路的算法是不一致的，增广路算法本质上是从全局的角度出发的，每一次一定会寻找到一条可以扩充最大流的可行流。而推拉流的思想则是站在局部的角度出发的。

直观上讲，推拉流算法其实是利用了流网络的几个关键的特点。最大流将残余流网络至少分割成了两部分，这两部分的节点具有两种不同的特征。假如在容量限制的条件下，s尽可能地发送流量，那么残余流网络中有一部分点流入流量是大于流出流量的，而有一部分则是可以流出的流量大于可以流入的流量。只要找到分割这两种点的分界边，那么最大流也就求解出来了。

要理解推拉流方法的原理我们需要搞清楚以下几个问题：
①高度函数h(x)的定义
    推拉流方法的精髓就在于高度函数的定义，高度函数主要包括这样几个要点：
    1.h(s)=|V|，为什么要将h(s)设置为V，第4点会做说明
    2.h(t)=0，为什么h(t)保持为0，后面会有说明。
    3.如果一个边(u,v)在残余流网络中，那么一定满足h(u)<=h(v)+1，也就是说，要想满足高度函数，残余流网络中不存在(u,v)使得h(u)>h(v)+1;
    4.根据3的定义，可知，当h(s)=V时，只要残余流网络满足高度函数，残余流网络中始终不存在s->t的增广路。因为节点数最多就是n个，而h(s)和h(t)大小恒定，在满足高度函数的约束下，若存在s->t的路径s->v1->v2->...->t，那么这条路径上相邻两个点的高度差最多为1，此时s->t的路径上，顶点数目为|V|+1，矛盾，从而说明结论不成立。
②push和relabel操作
    1.push操作只能将高度高的节点的超额流推送给高度低的节点，而h(x)的定义中，若边(u,v)在残余流网络中，那么h(u)最大值也只有h(v)+1,显然push操作只能发生在h(u)=h(v)+1的边上。
    2.relabel的操作是将超额流不为0的节点的高度设置为最低可以推动流的高度上。
③高度函数保证了推拉流算法的正确性
    1.如果某个节点x具有超额流，那么残余流网络中存在一条x->s的路径。本质上任何一个节点的超额流都是由s推送到的，所以存在x到s的反向简单路径。(可以用反证法说明流函数不守恒来证明)
    2.如果流网络中某个节点有超额流，那么该节点一定可以执行push或者relabel操作。对于任意的节点u来说，如果其不能push，那么意味着h(u) < h(v)+1，其中(u,v)在残余流网络中。
④时间复杂度分析
    1.推拉流算法结束后，节点最高的高度为2|V|+1，所以时间复杂度为|V|^3;