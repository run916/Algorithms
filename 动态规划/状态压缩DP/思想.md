# 思想
1. 状态压缩动态规划的主体依然是动态规划。在dp过程中，为了便于表示一个集合，我们使用数的k进制表示来表示一个集合的多种选取状态，从而减小了开辟空间的复杂度，也就降低了算法的复杂度。
2. 最常见的状态压缩方式就是用数的二进制来表示一个集合中有哪些元素，例如一个有8个元素的集合，假设第1,3个元素在集合中，那么二进制就可以表示为00001010，而这个二进制又可以转化为一个整数，这样我们在dp过程中，只用一个数作为dp数组中某一维度的下标，就可以表示一种集合的状态。用二进制标示状态有很多优点，最大的优点是可以方面地使用&，|，^来得到不同的子集，便于编程。

# 实例详解

1. 守护太空城的例子中，主要包括两个维的的概念，一个维度是position，但是该维度较大，有101维，显然不适合最为状态压缩要表示的状态。另一个维度为time，该维度只有5维，所以非常适合使用状态压缩的方式来表示一种集合选取的状态。在本例中状态就表示在第i个城堡处，不同时刻防护罩开启的情况。

2. 对于某一个特定的城堡k来说，它在每一个时刻的防护罩开启状态有这么几种，一种是不开启防护罩，一种是开启单一防护罩，一种是开启关联防护罩。不开防护罩以及开启单一防护罩，它只影响第k个位置的代价，而开启关联防护罩时，它会影响前一个或者后一个位置的开销。由于第k个位置开启和第k+1个位置的关联防护罩，与在第k+1个位置开启与第k个位置的关联防护罩是等价的，所以本例中，我们可以仅仅考虑从第k个位置开启与k+1个位置关联防护罩的情况，k-1与k关联的防护罩则有k-1这个城堡处开启。

3. 此时我们可以枚举前一个状态开启不同关联防护罩的情况，以及本位置开启关联防护罩的情况进行动态规划。为了便于理解，这里我们不采用三进制状态表示法，而采用二进制状态表示法。二进制状态state表示该位置开启关联防护罩的时刻集合。此时dp[i][state]就表示在state状态对应的时刻开启关联防护罩时的最小开销。

4. 我们只需要将整个时刻分成A,B,C三个子集，A表示前一个位置开启关联防护罩已经保护的时刻，B表示需要开启单防护罩或者不开启防护罩保护的集合，C表示本位置开启关联防护罩的集合。这样我们通过枚举就可以得到状态转移方程。
